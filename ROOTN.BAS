REM Calculate SQRT(N)
REM  by BIGNUM Class (1000 digits)

USECLASS BIGNUM

N=17

WIDTH 48
PRINT "Calculating SQRT(";N;")..."
K=1:WHILE (K+1)*(K+1)<=N:K=K+1:WEND
PRINT "Initial Value=";K
A=NEW(BIGNUM,K):A.DIV(A,1)
B=NEW(BIGNUM,1):B.DIV(B,K)
C=NEW(BIGNUM,0):D=NEW(BIGNUM,2):E=NEW(BIGNUM,0)
DO
 DO
  C.AS(B)
  E.MUL2(A,B):E.SUB(D,E):B.MUL2(B,E):PRINT "*";
 LOOP UNTIL B.EQUAL(C)
 C.AS(A)
 E.MUL(B,N):A.ADD(A,E):A.DIV(A,2):PRINT
LOOP UNTIL A.EQUAL(C)

PRINT "SQRT(";N;")=":PRINT A.RETVAL(0);".";
FOR I=1 TO 250
 S$="000"+DEC$(A.RETVAL(I)):PRINT S$(-4);
NEXT
DO:IDLE:LOOP UNTIL INKEY():PRINT:PRINT

A.MUL2(A,A)
PRINT "SQRT(";N;")^2 = ":PRINT A.RETVAL(0);".";
FOR I=1 TO 250
 S$="000"+DEC$(A.RETVAL(I)):PRINT S$(-4);
NEXT
END
